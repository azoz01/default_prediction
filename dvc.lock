schema: '2.0'
stages:
  split_data:
    cmd: python pipelines/bin/split_data.py
    deps:
    - path: pipelines/bin/split_data.py
      md5: 20e7804332be655f1d03fdd90817f655
      size: 1645
    - path: resources/data/raw
      md5: 471b0efdf22136513c2eca6a76f41cf0.dir
      size: 85166940
      nfiles: 6
    - path: utils
      md5: 538fded94aa28bfddd3674d3b27b9b88.dir
      size: 12476
      nfiles: 10
    params:
      params.yaml:
        split_data.test_size: 0.15
        split_data.valid_size: 0.15
    outs:
    - path: resources/data/splitted
      md5: 5d03e4c07c60e4880b2495e45b998e3a.dir
      size: 28128421
      nfiles: 6
  clean:
    cmd: python pipelines/bin/clean_data.py --validate
    deps:
    - path: pipelines/bin/clean_data.py
      md5: c10985c87b82d311fafe8b28d48b6791
      size: 1755
    - path: resources/data/splitted
      md5: 5d03e4c07c60e4880b2495e45b998e3a.dir
      size: 28128421
      nfiles: 6
    - path: utils
      md5: 538fded94aa28bfddd3674d3b27b9b88.dir
      size: 12476
      nfiles: 10
    outs:
    - path: resources/data/clean
      md5: 5425727cca4f8ea4a9b85d54185221e9.dir
      size: 23328273
      nfiles: 6
  numerical_transformations:
    cmd: python pipelines/bin/numerical_transformations.py --validate
    deps:
    - path: pipelines/bin/numerical_transformations.py
      md5: 41d993650d7d89452ffc697ca9b29beb
      size: 2672
    - path: resources/data/clean
      md5: 5425727cca4f8ea4a9b85d54185221e9.dir
      size: 23328273
      nfiles: 6
    - path: utils
      md5: 538fded94aa28bfddd3674d3b27b9b88.dir
      size: 12476
      nfiles: 10
    outs:
    - path: resources/data/numerical_transformed
      md5: 35b85666c6280640ebc8279d1a7dda4a.dir
      size: 22019819
      nfiles: 6
  one_hot:
    cmd: python pipelines/bin/one_hot.py --validate
    deps:
    - path: pipelines/bin/one_hot.py
      md5: 5550c0bc69eb7a71e851bee9398caa41
      size: 2019
    - path: resources/data/numerical_transformed
      md5: 35b85666c6280640ebc8279d1a7dda4a.dir
      size: 22019819
      nfiles: 6
    - path: utils
      md5: 538fded94aa28bfddd3674d3b27b9b88.dir
      size: 12476
      nfiles: 10
    outs:
    - path: resources/data/categorical_transformed
      md5: 80dd6267bc156d75bece1e22088bad70.dir
      size: 24043252
      nfiles: 6
  category_embedding:
    cmd: python pipelines/bin/category_embedding.py --validate
    deps:
    - path: pipelines/bin/category_embedding.py
      md5: f82c7c92cd6d00fc1fd85ce4ed60417f
      size: 2106
    - path: resources/data/numerical_transformed
      md5: 35b85666c6280640ebc8279d1a7dda4a.dir
      size: 22019819
      nfiles: 6
    - path: utils
      md5: 538fded94aa28bfddd3674d3b27b9b88.dir
      size: 12476
      nfiles: 10
    params:
      params.yaml:
        category_embedding.embedder_n_epochs: 5
        category_embedding.embedder_num_layers: 2
    outs:
    - path: resources/data/categorical_embedded
      md5: e4029d15e793cdfe21d71abe957d700f.dir
      size: 31392454
      nfiles: 6
  smote:
    cmd: python pipelines/bin/smote.py
    deps:
    - path: pipelines/bin/smote.py
      md5: 2ce86555623665f7ca8547243da42cd2
      size: 1647
    - path: resources/data/reduced
      md5: 42572aae21ec1e60994ed2c52132a651.dir
      size: 16246014
      nfiles: 6
    - path: utils
      md5: 538fded94aa28bfddd3674d3b27b9b88.dir
      size: 12476
      nfiles: 10
    params:
      params.yaml:
        smote.calibration_size: 0.15
    outs:
    - path: resources/data/balanced_smote
      md5: cd9a42b67b1f6fc309aa4185002f4b56.dir
      size: 54376106
      nfiles: 8
  frufs:
    cmd: python pipelines/bin/frufs.py --validate
    deps:
    - path: pipelines/bin/frufs.py
      md5: 0f5e8da563156808d24a03ff20254255
      size: 2696
    - path: resources/data/categorical_embedded
      md5: e4029d15e793cdfe21d71abe957d700f.dir
      size: 31392454
      nfiles: 6
    - path: resources/data/categorical_transformed
      md5: 80dd6267bc156d75bece1e22088bad70.dir
      size: 24043252
      nfiles: 6
    - path: utils
      md5: 538fded94aa28bfddd3674d3b27b9b88.dir
      size: 12476
      nfiles: 10
    params:
      params.yaml:
        frufs.input: categorical_embedded
        frufs.output_n_cols: 100
    outs:
    - path: resources/data/reduced
      md5: 42572aae21ec1e60994ed2c52132a651.dir
      size: 16246014
      nfiles: 6
  oversample:
    cmd: python pipelines/bin/oversample.py
    deps:
    - path: pipelines/bin/oversample.py
      md5: b5fb70a00c617fcb3e009c6cdd33d38f
      size: 1625
    - path: resources/data/reduced
      md5: 42572aae21ec1e60994ed2c52132a651.dir
      size: 16246014
      nfiles: 6
    - path: utils
      md5: 538fded94aa28bfddd3674d3b27b9b88.dir
      size: 12476
      nfiles: 10
    params:
      params.yaml:
        oversample.calibration_size: 0.15
    outs:
    - path: resources/data/balanced
      md5: 8afc3709dc06ea7c8846dc5c8e623a51.dir
      size: 22297853
      nfiles: 8
